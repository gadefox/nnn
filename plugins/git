#!/bin/rc
. /usr/local/libexec/rc/nnn
. /usr/local/libexec/rc/notify
notify_icon = git
notify_title = GitHub:

key = `nnn_read
~ $key () && exit 1
opt = `(nnn_dmenu Status Check-in Check-out Init Clear)
~ $opt () && exit 1

fn nnn_item {
  if (test -d $1) {
    ~ $opt 1 || echo $1
    cd $1
    git-util $2
  } else {
    notify_show $1' is not a directory.'
  }
}

nnn_handle $key $2/$1 $opt
~ $opt 1 || nnn_key
exit 0
